{"ast":null,"code":"import _objectSpread from \"/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/src/Agenda/Containers/Agenda/Agenda.js\";\nimport React from \"react\";\nimport Layout from \"../../UI/Layout/Layout\";\nimport WeekMode from \"../../UI/ViewMode/WeekMode/WeekMode\";\nimport CalendarMode from \"../../UI/ViewMode/CalendarMode/CalendarMode\";\nimport DayMode from \"../../UI/ViewMode/DayMode/DayMode\";\nimport FullScreen from \"react-full-screen\";\nexport default class Agenda extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      appViewMode: '',\n      currentMonth: [],\n      currentWeek: [],\n      currWeekIndex: \"initial\",\n      prevMonthLastWeekIndex: [],\n      currentDay: '',\n      currentDayIndex: \"initial\",\n      prevWeekLastDayIndex: [],\n      monthGetter: new Date().getMonth(),\n      yearGetter: new Date().getFullYear(),\n      arrayOfDailyHoursTable: [],\n      dialogBoxData: {\n        displayDialogBox: false,\n        topPositionFromClassCard: \"\",\n        heigthPositionFromClassCard: \"\"\n      },\n      layoutWidthDimensions: {\n        width: \"\"\n      },\n      fullScreen: \"\"\n    };\n\n    this.arrayOfTableRows = (startingHour, endingHour) => {\n      let arrayOfDailyHoursTable = [startingHour];\n\n      for (let i = startingHour; i < endingHour; i++) {\n        arrayOfDailyHoursTable.push(Math.max.apply(null, arrayOfDailyHoursTable) + 1);\n      }\n\n      this.setState({\n        arrayOfDailyHoursTable\n      });\n    };\n\n    this.dayModeLogicHandler = () => {\n      const currentWeek = this.state.currentWeek.filter(day => new Date(day).getMonth() === this.state.monthGetter);\n      const currentDay = currentWeek[this.state.currentDayIndex];\n      this.setState({\n        currentDay\n      });\n    };\n\n    this.dayAgendaNavigationHandler = modal => {\n      const filteredCurrentWeek = this.state.currentWeek.filter(day => new Date(day).getMonth() === this.state.monthGetter);\n\n      if (modal === 'increment') {\n        if (this.state.currentDayIndex < filteredCurrentWeek.length - 1) {\n          this.setState((_ref) => {\n            let currentDayIndex = _ref.currentDayIndex,\n                restTop = _objectWithoutProperties(_ref, [\"currentDayIndex\"]);\n\n            return _objectSpread({\n              currentDayIndex: currentDayIndex + 1\n            }, restTop);\n          }, () => this.dayModeLogicHandler());\n        }\n\n        if (this.state.currentDayIndex === filteredCurrentWeek.length - 1) {\n          this.setState((_ref2) => {\n            let currentDayIndex = _ref2.currentDayIndex,\n                restTop = _objectWithoutProperties(_ref2, [\"currentDayIndex\"]);\n\n            return _objectSpread({\n              currentDayIndex: 0\n            }, restTop);\n          }, () => this.weekAgendaNavigationHandler('increment'));\n        }\n      }\n\n      if (modal === 'decrement' && this.state.currentDay !== new Date().setHours(0, 0, 0, 0)) {\n        if (this.state.currentDayIndex > 0) {\n          this.setState((_ref3) => {\n            let currentDayIndex = _ref3.currentDayIndex,\n                restTop = _objectWithoutProperties(_ref3, [\"currentDayIndex\"]);\n\n            return _objectSpread({\n              currentDayIndex: currentDayIndex - 1\n            }, restTop);\n          }, () => this.dayModeLogicHandler());\n        }\n\n        if (this.state.currentDayIndex === 0) {\n          this.weekAgendaNavigationHandler(\"decrement\");\n        }\n      }\n    };\n\n    this.weekAgendaLogicHandler = () => {\n      const currentWeek = this.state.currentMonth[this.state.currWeekIndex];\n      this.setState({\n        currentWeek\n      });\n    };\n\n    this.weekAgendaNavigationHandler = (modal, currentDayIndexFromGoToClickedDate) => {\n      //init the current week index\n      if (modal === \"increment\") {\n        this.setState((_ref4) => {\n          let prevWeekLastDayIndex = _ref4.prevWeekLastDayIndex,\n              restTop = _objectWithoutProperties(_ref4, [\"prevWeekLastDayIndex\"]);\n\n          return _objectSpread({\n            prevWeekLastDayIndex: [...prevWeekLastDayIndex, this.state.currentWeek.filter(day => new Date(day).getMonth() === this.state.monthGetter).length - 1]\n          }, restTop);\n        }, () => this.setState({\n          currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ? currentDayIndexFromGoToClickedDate : 0\n        })); //if the number of weeks incremented does not exceed the amount of weeks in the month\n\n        if (this.state.currWeekIndex < this.state.currentMonth.length - 1) {\n          this.setState((_ref5) => {\n            let currWeekIndex = _ref5.currWeekIndex,\n                restTop = _objectWithoutProperties(_ref5, [\"currWeekIndex\"]);\n\n            return _objectSpread({\n              currWeekIndex: currWeekIndex + 1\n            }, restTop);\n          }, () => this.weekAgendaLogicHandler());\n        }\n\n        if (this.state.currWeekIndex === this.state.currentMonth.length - 1) {\n          this.setState((_ref6) => {\n            let currWeekIndex = _ref6.currWeekIndex,\n                restTop = _objectWithoutProperties(_ref6, [\"currWeekIndex\"]);\n\n            return _objectSpread({\n              currWeekIndex: 0\n            }, restTop);\n          }, () => this.calendarNavigationHandler(\"increment\"));\n        }\n      }\n\n      if (modal === \"decrement\" && !this.state.currentWeek.includes(new Date().setHours(0, 0, 0, 0))) {\n        if (this.state.appViewMode === \"WeekMode\") {\n          this.setState({\n            currentDayIndex: 0\n          }, () => {\n            this.setState((_ref7) => {\n              let prevWeekLastDayIndex = _ref7.prevWeekLastDayIndex,\n                  restTop = _objectWithoutProperties(_ref7, [\"prevWeekLastDayIndex\"]);\n\n              return _objectSpread({\n                prevWeekLastDayIndex: [...prevWeekLastDayIndex.slice(0, -1)]\n              }, restTop);\n            });\n          });\n        }\n\n        if (this.state.appViewMode === \"DayMode\") {\n          this.setState({\n            currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ? currentDayIndexFromGoToClickedDate : this.state.prevWeekLastDayIndex[this.state.prevWeekLastDayIndex.length - 1]\n          }, () => {\n            this.setState((_ref8) => {\n              let prevWeekLastDayIndex = _ref8.prevWeekLastDayIndex,\n                  restTop = _objectWithoutProperties(_ref8, [\"prevWeekLastDayIndex\"]);\n\n              return _objectSpread({\n                prevWeekLastDayIndex: [...prevWeekLastDayIndex.slice(0, -1)]\n              }, restTop);\n            });\n          });\n        }\n\n        if (this.state.currWeekIndex > 0) {\n          this.setState((_ref9) => {\n            let currWeekIndex = _ref9.currWeekIndex,\n                restTop = _objectWithoutProperties(_ref9, [\"currWeekIndex\"]);\n\n            return _objectSpread({\n              currWeekIndex: currWeekIndex - 1\n            }, restTop);\n          }, () => {\n            this.weekAgendaLogicHandler();\n          });\n        }\n\n        if (this.state.currWeekIndex === 0) {\n          this.calendarNavigationHandler(\"decrement\");\n        }\n      }\n    };\n\n    this.calendarLogicHandler = () => {\n      const oneDay = 86400000;\n      const lastDayOfTheMonth = new Date(this.state.yearGetter, this.state.monthGetter + 1, 0).getDate();\n      let currentMonth = [new Date(this.state.yearGetter, this.state.monthGetter, 1).valueOf()]; //starts on month day 1\n\n      for (let i = 1; i < lastDayOfTheMonth; i++) {\n        //push the entire month\n        currentMonth.push(Math.max.apply(null, currentMonth) + oneDay);\n      } //localize the first date of the month dates array and check what day of the week it is\n      //spread the days of the week, which are the remaining days of prev month to fill calendar first week\n\n\n      for (let i = new Date(Math.min(...currentMonth)).getDay(); i > 0; i--) {\n        currentMonth.unshift(Math.min.apply(null, currentMonth) - oneDay);\n      } //spread the days of the week, which are the remaining days of prev month to fill calendar last week\n\n\n      for (let i = new Date(Math.max(...currentMonth)).getDay(); i < 6; i++) {\n        currentMonth.push(Math.max.apply(null, currentMonth) + oneDay);\n      }\n\n      let monthInWeeks = [];\n\n      for (let i = 0; i < currentMonth.length; i += 7) {\n        let chunk = currentMonth.slice(i, i + 7);\n        monthInWeeks.push(chunk);\n      }\n\n      currentMonth = monthInWeeks;\n      this.setState({\n        currentMonth\n      });\n    };\n\n    this.calendarNavigationHandler = (modal, currentDayIndexFromGoToClickedDate, accessingCalendarModeFromDayModeFullCalendar) => {\n      if (modal === \"increment\") {\n        if (this.state.appViewMode === \"CalendarMode\" || accessingCalendarModeFromDayModeFullCalendar) {\n          //increment all last index positions for the remaining weeks of a month to serve the DayMode index positioning\n          const currentWeekIndex = this.state.currWeekIndex;\n          this.setState((_ref10) => {\n            let prevWeekLastDayIndex = _ref10.prevWeekLastDayIndex,\n                restTop = _objectWithoutProperties(_ref10, [\"prevWeekLastDayIndex\"]);\n\n            return _objectSpread({\n              prevWeekLastDayIndex: [...prevWeekLastDayIndex, ...this.state.currentMonth.map(week => week.filter(day => new Date(day).getMonth() === this.state.monthGetter).length - 1).slice(currentWeekIndex)]\n            }, restTop);\n          });\n        } //saving the max index of curr month before incrementing\n\n\n        this.setState((_ref11) => {\n          let prevMonthLastWeekIndex = _ref11.prevMonthLastWeekIndex,\n              restTop = _objectWithoutProperties(_ref11, [\"prevMonthLastWeekIndex\"]);\n\n          return _objectSpread({\n            prevMonthLastWeekIndex: [...prevMonthLastWeekIndex, this.state.currentMonth.length - 1]\n          }, restTop);\n        }, () => this.setState((_ref12) => {\n          let currWeekIndex = _ref12.currWeekIndex,\n              currentDayIndex = _ref12.currentDayIndex,\n              restTop = _objectWithoutProperties(_ref12, [\"currWeekIndex\", \"currentDayIndex\"]);\n\n          return _objectSpread({\n            currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ? currentDayIndexFromGoToClickedDate : 0,\n            currWeekIndex: 0\n          }, restTop);\n        }));\n\n        if (this.state.monthGetter < 11) {\n          //just add months, before changing the year\n          this.setState((_ref13) => {\n            let monthGetter = _ref13.monthGetter,\n                restTop = _objectWithoutProperties(_ref13, [\"monthGetter\"]);\n\n            return _objectSpread({\n              monthGetter: monthGetter + 1\n            }, restTop);\n          }, () => this.calendarLogicHandler());\n        }\n\n        if (this.state.monthGetter >= 11) {\n          //if the month is december it resets the month and increments the year\n          this.setState((_ref14) => {\n            let yearGetter = _ref14.yearGetter,\n                monthGetter = _ref14.monthGetter,\n                restTop = _objectWithoutProperties(_ref14, [\"yearGetter\", \"monthGetter\"]);\n\n            return _objectSpread({\n              yearGetter: yearGetter + 1,\n              monthGetter: 0\n            }, restTop);\n          }, () => this.calendarLogicHandler());\n        }\n      }\n\n      if (modal === \"decrement\") {\n        if ((this.state.appViewMode === \"WeekMode\" || this.state.appViewMode === \"DayMode\") && accessingCalendarModeFromDayModeFullCalendar === undefined) {\n          //saving the max index of curr month before incrementing\n          this.setState({\n            currWeekIndex: this.state.prevMonthLastWeekIndex[this.state.prevMonthLastWeekIndex.length - 1]\n          }, () => {\n            this.setState((_ref15) => {\n              let prevMonthLastWeekIndex = _ref15.prevMonthLastWeekIndex,\n                  restTop = _objectWithoutProperties(_ref15, [\"prevMonthLastWeekIndex\"]);\n\n              return _objectSpread({\n                prevMonthLastWeekIndex: [...prevMonthLastWeekIndex.slice(0, -1)]\n              }, restTop);\n            });\n          });\n        }\n\n        if (this.state.appViewMode === \"CalendarMode\" || accessingCalendarModeFromDayModeFullCalendar) {\n          // removing all the week's indexes saved in this.state.prevMonthLastWeekIndex\n          // that will come after the first week of the month being rendered upon decrementing\n          // so If navigating backwards in DayMode, It will have the proper reference of the last week's index\n          const currentWeekIndex = this.state.currWeekIndex;\n          const prevMonthLastWeekIndex = this.state.prevMonthLastWeekIndex[this.state.prevMonthLastWeekIndex.length - 1];\n          const prevWeekLastDayIndexLength = this.state.prevWeekLastDayIndex.length - 1;\n          const willDecrementToCurrentMonth = this.state.monthGetter - new Date().getMonth() === 1;\n          this.setState((_ref16) => {\n            let prevWeekLastDayIndex = _ref16.prevWeekLastDayIndex,\n                restTop = _objectWithoutProperties(_ref16, [\"prevWeekLastDayIndex\"]);\n\n            return _objectSpread({\n              prevWeekLastDayIndex: willDecrementToCurrentMonth && !accessingCalendarModeFromDayModeFullCalendar ? [] : accessingCalendarModeFromDayModeFullCalendar ? [...prevWeekLastDayIndex.slice(0, -this.state.currWeekIndex - 1)] : [...prevWeekLastDayIndex.slice(0, prevWeekLastDayIndexLength - currentWeekIndex - prevMonthLastWeekIndex)]\n            }, restTop);\n          }); //saving the max index of curr month before incrementing\n\n          this.setState((_ref17) => {\n            let currWeekIndex = _ref17.currWeekIndex,\n                currentDayIndex = _ref17.currentDayIndex,\n                restTop = _objectWithoutProperties(_ref17, [\"currWeekIndex\", \"currentDayIndex\"]);\n\n            return _objectSpread({\n              currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ? currentDayIndexFromGoToClickedDate : 0,\n              currWeekIndex: currentDayIndexFromGoToClickedDate !== undefined ? this.state.prevMonthLastWeekIndex[this.state.prevMonthLastWeekIndex.length - 1] : 0\n            }, restTop);\n          }, () => {\n            this.setState((_ref18) => {\n              let prevMonthLastWeekIndex = _ref18.prevMonthLastWeekIndex,\n                  restTop = _objectWithoutProperties(_ref18, [\"prevMonthLastWeekIndex\"]);\n\n              return _objectSpread({\n                prevMonthLastWeekIndex: [...prevMonthLastWeekIndex.slice(0, -1)]\n              }, restTop);\n            });\n          });\n        } //just subtract months, before changing the year, if the current day is not present in the current calendar month.\n\n\n        if (this.state.monthGetter > 0 && !this.state.currentMonth.flat().includes(new Date().setHours(0, 0, 0, 0).valueOf())) {\n          this.setState((_ref19) => {\n            let monthGetter = _ref19.monthGetter,\n                restTop = _objectWithoutProperties(_ref19, [\"monthGetter\"]);\n\n            return _objectSpread({\n              monthGetter: monthGetter - 1\n            }, restTop);\n          }, () => this.calendarLogicHandler());\n        } //if the month is december it resets the month and increments the year\n\n\n        if (this.state.monthGetter <= 0) {\n          this.setState((_ref20) => {\n            let yearGetter = _ref20.yearGetter,\n                monthGetter = _ref20.monthGetter,\n                restTop = _objectWithoutProperties(_ref20, [\"yearGetter\", \"monthGetter\"]);\n\n            return _objectSpread({\n              yearGetter: yearGetter - 1,\n              monthGetter: 11\n            }, restTop);\n          }, () => this.calendarLogicHandler());\n        }\n      }\n    };\n\n    this.appNavigationHandler = modal => {\n      if (this.state.appViewMode === \"WeekMode\") {\n        this.weekAgendaNavigationHandler(modal);\n      }\n\n      if (this.state.appViewMode === \"CalendarMode\") {\n        this.calendarNavigationHandler(modal);\n      }\n\n      if (this.state.appViewMode === \"DayMode\") {\n        this.dayAgendaNavigationHandler(modal);\n      }\n    };\n\n    this.takeMeToToday = () => {\n      this.setState((_ref21) => {\n        let yearGetter = _ref21.yearGetter,\n            monthGetter = _ref21.monthGetter,\n            currWeekIndex = _ref21.currWeekIndex,\n            currentDayIndex = _ref21.currentDayIndex,\n            prevWeekLastDayIndex = _ref21.prevWeekLastDayIndex,\n            prevMonthLastWeekIndex = _ref21.prevMonthLastWeekIndex,\n            restTop = _objectWithoutProperties(_ref21, [\"yearGetter\", \"monthGetter\", \"currWeekIndex\", \"currentDayIndex\", \"prevWeekLastDayIndex\", \"prevMonthLastWeekIndex\"]);\n\n        return _objectSpread({\n          yearGetter: new Date().getFullYear(),\n          monthGetter: new Date().getMonth(),\n          currWeekIndex: 'initial',\n          currentDayIndex: 'initial',\n          prevWeekLastDayIndex: [],\n          prevMonthLastWeekIndex: []\n        }, restTop);\n      }, () => {\n        this.calendarLogicHandler();\n      });\n    };\n\n    this.newDatesToVerboseHandler = (date, verboseType) => {\n      let renderWeekDay = date.toString().length > 2 ? date.getDay() : date;\n\n      switch (renderWeekDay) {\n        case 0:\n          renderWeekDay = \"Sunday\";\n          break;\n\n        case 1:\n          renderWeekDay = \"Monday\";\n          break;\n\n        case 2:\n          renderWeekDay = \"Tuesday\";\n          break;\n\n        case 3:\n          renderWeekDay = \"Wednesday\";\n          break;\n\n        case 4:\n          renderWeekDay = \"Thursday\";\n          break;\n\n        case 5:\n          renderWeekDay = \"Friday\";\n          break;\n\n        case 6:\n          renderWeekDay = \"Saturday\";\n          break;\n\n        default:\n          renderWeekDay = null;\n      }\n\n      let renderMonth = date.toString().length > 2 ? date.getMonth() : date;\n\n      switch (renderMonth) {\n        case 0:\n          renderMonth = \"January\";\n          break;\n\n        case 1:\n          renderMonth = \"February\";\n          break;\n\n        case 2:\n          renderMonth = \"March\";\n          break;\n\n        case 3:\n          renderMonth = \"April\";\n          break;\n\n        case 4:\n          renderMonth = \"May\";\n          break;\n\n        case 5:\n          renderMonth = \"June\";\n          break;\n\n        case 6:\n          renderMonth = \"July\";\n          break;\n\n        case 7:\n          renderMonth = \"August\";\n          break;\n\n        case 8:\n          renderMonth = \"September\";\n          break;\n\n        case 9:\n          renderMonth = \"October\";\n          break;\n\n        case 10:\n          renderMonth = \"November\";\n          break;\n\n        case 11:\n          renderMonth = \"December\";\n          break;\n\n        default:\n          renderMonth = null;\n      }\n\n      if (verboseType === \"renderWeekDay\") {\n        return renderWeekDay;\n      }\n\n      if (verboseType === \"renderMonth\") {\n        return renderMonth;\n      }\n    };\n\n    this.displayDialogBoxHandler = (day, topPositionFromClassCard, heigthPositionFromClassCard) => {\n      let displayDialogBox;\n      if (this.state.dialogBoxData.displayDialogBox !== day) displayDialogBox = day;\n      if (this.state.dialogBoxData.displayDialogBox === day) displayDialogBox = false;\n      this.setState((_ref22) => {\n        let dialogBoxData = _ref22.dialogBoxData,\n            restTop = _objectWithoutProperties(_ref22, [\"dialogBoxData\"]);\n\n        return _objectSpread({\n          dialogBoxData: {\n            displayDialogBox,\n            topPositionFromClassCard: topPositionFromClassCard,\n            heigthPositionFromClassCard: heigthPositionFromClassCard\n          }\n        }, restTop);\n      });\n    };\n\n    this.callbackContainerDimensions = container => {\n      this.setState((_ref23) => {\n        let layoutWidthDimensions = _ref23.layoutWidthDimensions,\n            restTop = _objectWithoutProperties(_ref23, [\"layoutWidthDimensions\"]);\n\n        return _objectSpread({\n          layoutWidthDimensions: {\n            width: container.offsetWidth\n          }\n        }, restTop);\n      });\n    };\n\n    this.viewModeHandler = appViewMode => {\n      this.setState({\n        appViewMode\n      });\n    };\n\n    this.goToClickedDate = clickedDate => {\n      this.setState({\n        appViewMode: this.state.appViewMode === \"DayMode\" ? this.state.appViewMode : \"DayMode\"\n      }); //day index when the month is different from the actual\n\n      const clickedDayMonth = new Date(clickedDate).getMonth();\n      const clickedWeekIndex = this.state.currentMonth.findIndex(week => week.includes(clickedDate));\n\n      if (clickedDayMonth !== this.state.monthGetter) {\n        let clickedDayIndex = this.state.currentMonth.map(week => week.filter(day => new Date(day).getMonth() !== this.state.monthGetter)).filter(week => week.includes(clickedDate)).flat().indexOf(clickedDate);\n\n        if (clickedDayMonth > this.state.monthGetter) {\n          this.calendarNavigationHandler(\"increment\", clickedDayIndex, true);\n        }\n\n        if (clickedDayMonth < this.state.monthGetter) {\n          this.calendarNavigationHandler(\"decrement\", clickedDayIndex, true);\n        }\n      }\n\n      if (this.state.appViewMode === \"WeekMode\" && clickedDayMonth === this.state.monthGetter || this.state.appViewMode === 'DayMode' && clickedWeekIndex === this.state.currWeekIndex) {\n        this.setState((_ref24) => {\n          let appViewMode = _ref24.appViewMode,\n              currentDayIndex = _ref24.currentDayIndex,\n              restTop = _objectWithoutProperties(_ref24, [\"appViewMode\", \"currentDayIndex\"]);\n\n          return _objectSpread({\n            currentDayIndex: this.state.currentWeek.indexOf(clickedDate)\n          }, restTop);\n        }, () => this.dayModeLogicHandler());\n      }\n\n      if ((this.state.appViewMode === \"CalendarMode\" || this.state.appViewMode === \"DayMode\") && clickedDayMonth === this.state.monthGetter) {\n        let clickedDayIndex = this.state.currentMonth.map(week => week.filter(day => new Date(day).getMonth() === this.state.monthGetter)).filter(week => week.includes(clickedDate)).flat().indexOf(clickedDate);\n\n        if (clickedWeekIndex > this.state.currWeekIndex) {\n          for (let i = this.state.currWeekIndex; i < clickedWeekIndex; i++) {\n            this.weekAgendaNavigationHandler(\"increment\", clickedDayIndex);\n          }\n        }\n\n        if (clickedWeekIndex < this.state.currWeekIndex) {\n          for (let i = this.state.currWeekIndex; i > clickedWeekIndex; i--) {\n            this.weekAgendaNavigationHandler(\"decrement\", clickedDayIndex);\n          }\n        }\n      }\n    };\n\n    this.fullScreenHandler = fullScreen => {\n      this.setState({\n        fullScreen\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.calendarLogicHandler();\n    this.arrayOfTableRows(this.props.agendaInitialAvailableHour, this.props.agendaLastAvailableHour);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.currentMonth !== this.state.currentMonth) {\n      const currWeekIndex = this.state.currentMonth.findIndex(week => week.includes(new Date().setHours(0, 0, 0, 0)));\n\n      if (currWeekIndex !== -1 && (prevState.currWeekIndex === 'initial' || this.state.appViewMode === \"CalendarMode\")) {\n        this.setState({\n          currWeekIndex\n        }, () => this.weekAgendaLogicHandler());\n      } else {\n        this.weekAgendaLogicHandler();\n      }\n    }\n\n    if (prevState.currentWeek !== this.state.currentWeek) {\n      //code that finds the current present day withing the current week set by the CalendarMode, initial state render or WeekMode\n      const currentDayIndex = this.state.currentWeek.findIndex(day => day === new Date().setHours(0, 0, 0, 0));\n\n      if (currentDayIndex !== -1 && (prevState.currentDayIndex === 'initial' || this.state.appViewMode === \"CalendarMode\" || this.state.appViewMode === \"WeekMode\")) {\n        this.setState({\n          currentDayIndex\n        }, () => this.dayModeLogicHandler()); //if the present day is not found within a current week, it will just execute the day mode logic handler normally.\n      } else {\n        this.dayModeLogicHandler();\n      }\n    } //only set app view mode after spreading all the state through all modes\n\n\n    if (prevState.currentDay !== this.state.currentDay && prevState.currentDay === '') {\n      const appViewMode = this.props.defaultMode;\n      this.setState({\n        appViewMode\n      }, () => this.state.appViewMode);\n    }\n  } //the function below spreads the table of existing hours for <EmptyTables/>\n\n\n  render() {\n    let viewMode = \"\";\n    const weekMode =\n    /*#__PURE__*/\n    //the min width for weekMOde in curr setup is 700px wide\n    React.createElement(WeekMode, {\n      appViewMode: this.state.appViewMode,\n      calendarViewType: this.props.calendarViewType,\n      arrayOfDailyHoursTable: this.state.arrayOfDailyHoursTable,\n      newDatesToVerboseHandler: this.newDatesToVerboseHandler,\n      displayDialogBoxHandler: this.displayDialogBoxHandler,\n      dialogBoxData: this.state.dialogBoxData,\n      agendaInitialAvailableHour: this.props.agendaInitialAvailableHour,\n      layoutWidthDimensions: this.state.layoutWidthDimensions,\n      agendaLastAvailableHour: this.props.agendaLastAvailableHour,\n      dataToBeRendered: this.props.dataToBeRendered,\n      currentWeek: this.state.currentWeek,\n      monthGetter: this.state.monthGetter,\n      goToClickedDate: this.goToClickedDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }\n    });\n    const calendarMode =\n    /*#__PURE__*/\n    //the min width for the calendar mode in curr setup is 590px wide\n    React.createElement(CalendarMode, {\n      appViewMode: this.state.appViewMode,\n      calendarViewType: this.props.calendarViewType,\n      monthGetter: this.state.monthGetter,\n      currentMonth: this.state.currentMonth,\n      currentWeek: this.state.currentWeek,\n      newDatesToVerboseHandler: this.newDatesToVerboseHandler,\n      goToClickedDate: this.goToClickedDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }\n    });\n    const dayMode =\n    /*#__PURE__*/\n    //day mode width is just fine\n    React.createElement(DayMode, {\n      fullScreen: this.state.fullScreen,\n      dialogBoxData: this.state.dialogBoxData,\n      appViewMode: this.state.appViewMode,\n      arrayOfDailyHoursTable: this.state.arrayOfDailyHoursTable,\n      newDatesToVerboseHandler: this.newDatesToVerboseHandler,\n      agendaInitialAvailableHour: this.props.agendaInitialAvailableHour,\n      agendaLastAvailableHour: this.props.agendaLastAvailableHour,\n      dataToBeRendered: this.props.dataToBeRendered,\n      currentMonth: this.state.currentMonth,\n      currentYear: this.state.yearGetter,\n      currentDay: this.state.currentDay,\n      monthGetter: this.state.monthGetter,\n      currentWeek: this.state.currentWeek,\n      appNavigationHandler: this.appNavigationHandler,\n      calendarViewType: this.props.calendarViewType,\n      takeMeToToday: this.takeMeToToday,\n      goToClickedDate: this.goToClickedDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 9\n      }\n    });\n\n    switch (this.state.appViewMode) {\n      case 'WeekMode':\n        viewMode = weekMode;\n        break;\n\n      case 'CalendarMode':\n        viewMode = calendarMode;\n        break;\n\n      case \"DayMode\":\n        viewMode = dayMode;\n        break;\n\n      default:\n        viewMode = null;\n    }\n\n    return /*#__PURE__*/React.createElement(FullScreen, {\n      enabled: this.state.fullScreen,\n      onChange: fullScreen => this.setState({\n        fullScreen\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Layout, {\n      callbackFullScreen: this.fullScreenHandler,\n      calendarViewType: this.props.calendarViewType,\n      defaultMode: this.props.defaultMode,\n      takeMeToToday: this.takeMeToToday,\n      appViewMode: this.state.appViewMode,\n      weekMode: () => this.viewModeHandler(\"WeekMode\"),\n      monthMode: () => this.viewModeHandler(\"CalendarMode\"),\n      dayMode: () => this.viewModeHandler(\"DayMode\"),\n      callbackContainerDimensions: this.callbackContainerDimensions,\n      appNavigationHandler: this.appNavigationHandler,\n      newDatesToVerboseHandler: this.newDatesToVerboseHandler,\n      currentWeek: this.state.currentWeek,\n      monthGetter: this.state.monthGetter,\n      currentYear: this.state.yearGetter,\n      currentDay: this.state.currentDay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }\n    }, viewMode));\n  }\n\n}","map":{"version":3,"sources":["/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/src/Agenda/Containers/Agenda/Agenda.js"],"names":["React","Layout","WeekMode","CalendarMode","DayMode","FullScreen","Agenda","Component","state","appViewMode","currentMonth","currentWeek","currWeekIndex","prevMonthLastWeekIndex","currentDay","currentDayIndex","prevWeekLastDayIndex","monthGetter","Date","getMonth","yearGetter","getFullYear","arrayOfDailyHoursTable","dialogBoxData","displayDialogBox","topPositionFromClassCard","heigthPositionFromClassCard","layoutWidthDimensions","width","fullScreen","arrayOfTableRows","startingHour","endingHour","i","push","Math","max","apply","setState","dayModeLogicHandler","filter","day","dayAgendaNavigationHandler","modal","filteredCurrentWeek","length","restTop","weekAgendaNavigationHandler","setHours","weekAgendaLogicHandler","currentDayIndexFromGoToClickedDate","undefined","calendarNavigationHandler","includes","slice","calendarLogicHandler","oneDay","lastDayOfTheMonth","getDate","valueOf","min","getDay","unshift","monthInWeeks","chunk","accessingCalendarModeFromDayModeFullCalendar","currentWeekIndex","map","week","prevWeekLastDayIndexLength","willDecrementToCurrentMonth","flat","appNavigationHandler","takeMeToToday","newDatesToVerboseHandler","date","verboseType","renderWeekDay","toString","renderMonth","displayDialogBoxHandler","callbackContainerDimensions","container","offsetWidth","viewModeHandler","goToClickedDate","clickedDate","clickedDayMonth","clickedWeekIndex","findIndex","clickedDayIndex","indexOf","fullScreenHandler","componentDidMount","props","agendaInitialAvailableHour","agendaLastAvailableHour","componentDidUpdate","prevProps","prevState","snapshot","defaultMode","render","viewMode","weekMode","calendarViewType","dataToBeRendered","calendarMode","dayMode"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Layout from \"../../UI/Layout/Layout\";\nimport WeekMode from \"../../UI/ViewMode/WeekMode/WeekMode\";\nimport CalendarMode from \"../../UI/ViewMode/CalendarMode/CalendarMode\";\nimport DayMode from \"../../UI/ViewMode/DayMode/DayMode\";\nimport FullScreen from \"react-full-screen\";\n\nexport default class Agenda extends React.Component {\n  state = {\n    appViewMode: '',\n    currentMonth: [],\n    currentWeek: [],\n    currWeekIndex: \"initial\",\n    prevMonthLastWeekIndex: [],\n    currentDay: '',\n    currentDayIndex: \"initial\",\n    prevWeekLastDayIndex: [],\n    monthGetter: new Date().getMonth(),\n    yearGetter: new Date().getFullYear(),\n    arrayOfDailyHoursTable: [],\n    dialogBoxData: {\n      displayDialogBox: false,\n      topPositionFromClassCard: \"\",\n      heigthPositionFromClassCard: \"\"\n    },\n    layoutWidthDimensions: {\n      width: \"\",\n    },\n    fullScreen: \"\"\n  };\n\n  componentDidMount(){\n    this.calendarLogicHandler();\n    this.arrayOfTableRows(this.props.agendaInitialAvailableHour, this.props.agendaLastAvailableHour);\n  };\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if(prevState.currentMonth !== this.state.currentMonth) {\n      const currWeekIndex =  this.state.currentMonth.findIndex(week => week.includes(new Date().setHours(0,0,0,0)));\n      if(currWeekIndex !== -1 && (prevState.currWeekIndex === 'initial' || this.state.appViewMode === \"CalendarMode\")) {\n        this.setState({currWeekIndex}, () => this.weekAgendaLogicHandler())\n      } else {\n        this.weekAgendaLogicHandler()\n      }\n    }\n    if(prevState.currentWeek !== this.state.currentWeek) {\n      //code that finds the current present day withing the current week set by the CalendarMode, initial state render or WeekMode\n      const currentDayIndex = this.state.currentWeek.findIndex(day => day === new Date().setHours(0,0,0,0));\n      if(currentDayIndex !== -1 && (prevState.currentDayIndex === 'initial' || this.state.appViewMode === \"CalendarMode\" || this.state.appViewMode === \"WeekMode\")) {\n        this.setState({currentDayIndex}, () => this.dayModeLogicHandler())\n        //if the present day is not found within a current week, it will just execute the day mode logic handler normally.\n      } else {\n        this.dayModeLogicHandler()\n      }\n    }\n    //only set app view mode after spreading all the state through all modes\n    if(prevState.currentDay !== this.state.currentDay && prevState.currentDay === '') {\n      const appViewMode = this.props.defaultMode;\n      this.setState({appViewMode}, () => this.state.appViewMode);\n    }\n  }\n\n  //the function below spreads the table of existing hours for <EmptyTables/>\n  arrayOfTableRows = (startingHour, endingHour) => {\n    let arrayOfDailyHoursTable = [startingHour];\n    for (let i = startingHour; i < endingHour; i++) {\n      arrayOfDailyHoursTable.push(\n          Math.max.apply(null, arrayOfDailyHoursTable) + 1\n      );\n    }\n    this.setState({ arrayOfDailyHoursTable });\n  };\n\n  dayModeLogicHandler = () => {\n\n    const currentWeek = this.state.currentWeek.filter(day => new Date(day).getMonth() === this.state.monthGetter);\n    const currentDay = currentWeek[this.state.currentDayIndex];\n    this.setState({currentDay});\n  };\n\n  dayAgendaNavigationHandler = modal => {\n    const filteredCurrentWeek = this.state.currentWeek.filter(day => new Date(day).getMonth() === this.state.monthGetter);\n    if(modal === 'increment') {\n      if(this.state.currentDayIndex < filteredCurrentWeek.length -1) {\n        this.setState(({currentDayIndex, ...restTop}) => ({\n          currentDayIndex: currentDayIndex + 1,\n          ...restTop\n        }), () => this.dayModeLogicHandler())\n      }\n      if(this.state.currentDayIndex === filteredCurrentWeek.length -1) {\n        this.setState(({currentDayIndex, ...restTop}) => ({\n          currentDayIndex: 0,\n          ...restTop\n        }), () => this.weekAgendaNavigationHandler('increment'))\n      }\n    }\n    if(modal === 'decrement' && this.state.currentDay !== new Date().setHours(0,0,0,0)) {\n      if(this.state.currentDayIndex > 0) {\n        this.setState(({currentDayIndex, ...restTop}) => ({\n          currentDayIndex: currentDayIndex - 1,\n          ...restTop\n        }), () => this.dayModeLogicHandler())\n      }\n      if(this.state.currentDayIndex === 0) {\n        this.weekAgendaNavigationHandler(\"decrement\")\n      }\n    }\n  };\n\n  weekAgendaLogicHandler = () => {\n    const currentWeek = this.state.currentMonth[this.state.currWeekIndex];\n    this.setState({currentWeek});\n  };\n\n  weekAgendaNavigationHandler = (modal, currentDayIndexFromGoToClickedDate) => {\n    //init the current week index\n    if (modal === \"increment\") {\n      this.setState(({prevWeekLastDayIndex, ...restTop}) => ({\n        prevWeekLastDayIndex: [...prevWeekLastDayIndex, this.state.currentWeek.filter(day =>\n            new Date(day).getMonth() === this.state.monthGetter).length-1],\n        ...restTop\n      }),() => this.setState({currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ?\n            currentDayIndexFromGoToClickedDate : 0}));\n      //if the number of weeks incremented does not exceed the amount of weeks in the month\n      if(this.state.currWeekIndex < this.state.currentMonth.length -1) {\n        this.setState(\n            ({currWeekIndex, ...restTop}) => ({\n              currWeekIndex: currWeekIndex + 1,\n              ...restTop\n            }),\n            () => this.weekAgendaLogicHandler());\n      }\n      if(this.state.currWeekIndex === this.state.currentMonth.length -1) {\n        this.setState(({currWeekIndex, ...restTop}) => ({\n          currWeekIndex: 0,\n          ...restTop\n        }), () => this.calendarNavigationHandler(\"increment\"));\n      }\n    }\n\n    if (modal === \"decrement\" && !this.state.currentWeek.includes(new Date().setHours(0,0,0,0))) {\n      if(this.state.appViewMode === \"WeekMode\") {\n        this.setState({currentDayIndex: 0}, () => {\n          this.setState(({prevWeekLastDayIndex, ...restTop}) => ({\n            prevWeekLastDayIndex: [...prevWeekLastDayIndex.slice(0, -1)],\n            ...restTop\n          }))\n        })\n      }\n      if(this.state.appViewMode === \"DayMode\") {\n        this.setState({currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ?\n              currentDayIndexFromGoToClickedDate : this.state.prevWeekLastDayIndex[this.state.prevWeekLastDayIndex.length -1]}, () => {\n          this.setState(({prevWeekLastDayIndex, ...restTop}) => ({\n            prevWeekLastDayIndex: [...prevWeekLastDayIndex.slice(0, -1)],\n            ...restTop\n          }))\n        });\n      }\n      if(this.state.currWeekIndex > 0) {\n        this.setState(\n            ({currWeekIndex, ...restTop}) => ({\n              currWeekIndex: currWeekIndex - 1,\n              ...restTop\n            }),\n            () => {\n              this.weekAgendaLogicHandler();\n            })}\n\n      if(this.state.currWeekIndex === 0) {\n        this.calendarNavigationHandler(\"decrement\");\n      }\n    }\n  };\n\n  calendarLogicHandler = () => {\n    const oneDay = 86400000;\n    const lastDayOfTheMonth = new Date(this.state.yearGetter, this.state.monthGetter + 1, 0).getDate();\n    let currentMonth = [new Date(this.state.yearGetter, this.state.monthGetter, 1).valueOf()]; //starts on month day 1\n    for(let i = 1; i < lastDayOfTheMonth; i++) { //push the entire month\n      currentMonth.push(Math.max.apply(null, currentMonth) + oneDay)\n    }\n    //localize the first date of the month dates array and check what day of the week it is\n    //spread the days of the week, which are the remaining days of prev month to fill calendar first week\n    for(let i = new Date(Math.min(...currentMonth)).getDay(); i > 0; i-- ) {\n      currentMonth.unshift(Math.min.apply(null, currentMonth) - oneDay)\n    }\n    //spread the days of the week, which are the remaining days of prev month to fill calendar last week\n    for(let i = new Date(Math.max(...currentMonth)).getDay(); i < 6; i++ ) {\n      currentMonth.push(Math.max.apply(null, currentMonth) + oneDay)\n    }\n    let monthInWeeks = [];\n    for (let i = 0; i < currentMonth.length; i += 7 ) {\n      let chunk = currentMonth.slice(i, i+7 );\n      monthInWeeks.push(chunk)\n    }\n    currentMonth = monthInWeeks;\n    this.setState({currentMonth});\n  };\n\n  calendarNavigationHandler = (modal, currentDayIndexFromGoToClickedDate, accessingCalendarModeFromDayModeFullCalendar) => {\n    if(modal === \"increment\") {\n      if(this.state.appViewMode === \"CalendarMode\" || accessingCalendarModeFromDayModeFullCalendar) {\n        //increment all last index positions for the remaining weeks of a month to serve the DayMode index positioning\n        const currentWeekIndex = this.state.currWeekIndex;\n        this.setState(({prevWeekLastDayIndex, ...restTop}) => ({\n          prevWeekLastDayIndex: [\n            ...prevWeekLastDayIndex,\n            ...this.state.currentMonth\n                .map(week => week.filter(day => new Date(day).getMonth() === this.state.monthGetter).length -1)\n                .slice(currentWeekIndex)\n          ],\n          ...restTop\n        }));\n      }\n      //saving the max index of curr month before incrementing\n      this.setState(({prevMonthLastWeekIndex, ...restTop}) => ({\n            prevMonthLastWeekIndex: [...prevMonthLastWeekIndex, this.state.currentMonth.length -1],\n            ...restTop\n          }), () =>\n              this.setState(({currWeekIndex, currentDayIndex, ...restTop}) => ({\n                currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ?\n                    currentDayIndexFromGoToClickedDate : 0,\n                currWeekIndex: 0,\n                ...restTop\n              }))\n      );\n      if(this.state.monthGetter < 11) { //just add months, before changing the year\n        this.setState(({monthGetter, ...restTop}) => ({\n          monthGetter: monthGetter + 1,\n          ...restTop\n        }), () => this.calendarLogicHandler());\n      }\n      if(this.state.monthGetter >= 11) {//if the month is december it resets the month and increments the year\n        this.setState(({yearGetter, monthGetter, ...restTop}) => ({\n          yearGetter: yearGetter + 1,\n          monthGetter: 0,\n          ...restTop\n        }), () => this.calendarLogicHandler())\n      }\n    }\n    if (modal === \"decrement\") {\n      if((this.state.appViewMode === \"WeekMode\" || this.state.appViewMode === \"DayMode\") && accessingCalendarModeFromDayModeFullCalendar === undefined ) {\n        //saving the max index of curr month before incrementing\n        this.setState({currWeekIndex: this.state.prevMonthLastWeekIndex[this.state.prevMonthLastWeekIndex.length -1]}, () => {\n          this.setState(({prevMonthLastWeekIndex, ...restTop}) => ({\n            prevMonthLastWeekIndex: [...prevMonthLastWeekIndex.slice(0, -1)],\n            ...restTop\n          }));\n        });\n      }\n      if(this.state.appViewMode === \"CalendarMode\" || accessingCalendarModeFromDayModeFullCalendar) {\n        // removing all the week's indexes saved in this.state.prevMonthLastWeekIndex\n        // that will come after the first week of the month being rendered upon decrementing\n        // so If navigating backwards in DayMode, It will have the proper reference of the last week's index\n        const currentWeekIndex = this.state.currWeekIndex;\n        const prevMonthLastWeekIndex = this.state.prevMonthLastWeekIndex[this.state.prevMonthLastWeekIndex.length -1];\n        const prevWeekLastDayIndexLength = this.state.prevWeekLastDayIndex.length -1;\n        const willDecrementToCurrentMonth = this.state.monthGetter - new Date().getMonth() === 1;\n        this.setState(({prevWeekLastDayIndex, ...restTop}) => ({\n          prevWeekLastDayIndex: willDecrementToCurrentMonth && !accessingCalendarModeFromDayModeFullCalendar ? [] :\n              accessingCalendarModeFromDayModeFullCalendar ?\n                  [...prevWeekLastDayIndex.slice(0, -this.state.currWeekIndex -1)] :\n                  [...prevWeekLastDayIndex.slice(0, prevWeekLastDayIndexLength - currentWeekIndex - prevMonthLastWeekIndex)],\n          ...restTop\n        }));\n        //saving the max index of curr month before incrementing\n        this.setState(({currWeekIndex, currentDayIndex, ...restTop}) => ({\n          currentDayIndex: currentDayIndexFromGoToClickedDate !== undefined ?\n              currentDayIndexFromGoToClickedDate : 0,\n          currWeekIndex: currentDayIndexFromGoToClickedDate !== undefined ?\n              this.state.prevMonthLastWeekIndex[this.state.prevMonthLastWeekIndex.length -1] : 0,\n          ...restTop\n        }), () => {\n          this.setState(({prevMonthLastWeekIndex, ...restTop}) => ({\n            prevMonthLastWeekIndex: [...prevMonthLastWeekIndex.slice(0, -1)],\n            ...restTop\n          }));\n        });\n      }\n      //just subtract months, before changing the year, if the current day is not present in the current calendar month.\n      if(this.state.monthGetter > 0 && !this.state.currentMonth.flat().includes(new Date().setHours(0,0,0,0).valueOf())) {\n        this.setState(({monthGetter, ...restTop}) => ({\n          monthGetter: monthGetter - 1,\n          ...restTop\n        }), () => this.calendarLogicHandler());\n      }\n      //if the month is december it resets the month and increments the year\n      if(this.state.monthGetter <= 0) {\n        this.setState(({yearGetter, monthGetter, ...restTop}) => ({\n          yearGetter: yearGetter - 1,\n          monthGetter: 11,\n          ...restTop\n        }), () => this.calendarLogicHandler())\n      }\n    }\n  };\n\n  //this functions navigates in between weeks\n  appNavigationHandler = modal => {\n    if(this.state.appViewMode === \"WeekMode\") {\n      this.weekAgendaNavigationHandler(modal)\n    }\n    if(this.state.appViewMode === \"CalendarMode\") {\n      this.calendarNavigationHandler(modal)\n    }\n    if(this.state.appViewMode === \"DayMode\") {\n      this.dayAgendaNavigationHandler(modal)\n    }\n  };\n\n  takeMeToToday = () => {\n\n\n    this.setState(({yearGetter, monthGetter, currWeekIndex, currentDayIndex, prevWeekLastDayIndex, prevMonthLastWeekIndex,...restTop}) => ({\n      yearGetter : new Date().getFullYear(),\n      monthGetter: new Date().getMonth(),\n      currWeekIndex: 'initial',\n      currentDayIndex: 'initial',\n      prevWeekLastDayIndex: [],\n      prevMonthLastWeekIndex: [],\n      ...restTop\n    }), () => {\n      this.calendarLogicHandler();\n    })\n  };\n\n  //this function does the verbose work for my days to appear nicely\n  newDatesToVerboseHandler = (date, verboseType) => {\n    let renderWeekDay = date.toString().length > 2 ?\n        date.getDay() : date;\n    switch (renderWeekDay) {\n      case 0:\n        renderWeekDay = \"Sunday\";\n        break;\n      case 1:\n        renderWeekDay = \"Monday\";\n        break;\n      case 2:\n        renderWeekDay = \"Tuesday\";\n        break;\n      case 3:\n        renderWeekDay = \"Wednesday\";\n        break;\n      case 4:\n        renderWeekDay = \"Thursday\";\n        break;\n      case 5:\n        renderWeekDay = \"Friday\";\n        break;\n      case 6:\n        renderWeekDay = \"Saturday\";\n        break;\n      default:\n        renderWeekDay = null;\n    }\n    let renderMonth =  date.toString().length > 2 ?\n        date.getMonth() : date;\n    switch (renderMonth) {\n      case 0:\n        renderMonth = \"January\";\n        break;\n      case 1:\n        renderMonth = \"February\";\n        break;\n      case 2:\n        renderMonth = \"March\";\n        break;\n      case 3:\n        renderMonth = \"April\";\n        break;\n      case 4:\n        renderMonth = \"May\";\n        break;\n      case 5:\n        renderMonth = \"June\";\n        break;\n      case 6:\n        renderMonth = \"July\";\n        break;\n      case 7:\n        renderMonth = \"August\";\n        break;\n      case 8:\n        renderMonth = \"September\";\n        break;\n      case 9:\n        renderMonth = \"October\";\n        break;\n      case 10:\n        renderMonth = \"November\";\n        break;\n      case 11:\n        renderMonth = \"December\";\n        break;\n      default:\n        renderMonth = null;\n    }\n    if (verboseType === \"renderWeekDay\") {\n      return renderWeekDay;\n    }\n    if (verboseType === \"renderMonth\") {\n      return renderMonth;\n    }\n  };\n  //logic to run the dialog box. This box will handle create class, edit class & view full class card\n  displayDialogBoxHandler = (\n      day,\n      topPositionFromClassCard,\n      heigthPositionFromClassCard\n  ) => {\n    let displayDialogBox;\n    if (this.state.dialogBoxData.displayDialogBox !== day) displayDialogBox = day;\n    if (this.state.dialogBoxData.displayDialogBox === day) displayDialogBox = false;\n    this.setState(({ dialogBoxData, ...restTop }) => ({\n      dialogBoxData: {\n        displayDialogBox,\n        topPositionFromClassCard: topPositionFromClassCard,\n        heigthPositionFromClassCard: heigthPositionFromClassCard\n      },\n      ...restTop\n    }));\n  };\n\n  callbackContainerDimensions = container => {\n    this.setState(({ layoutWidthDimensions, ...restTop }) => ({\n      layoutWidthDimensions: {\n        width: container.offsetWidth,\n      },\n      ...restTop\n    }));\n  };\n\n  viewModeHandler = (appViewMode) => {\n    this.setState({appViewMode})\n  };\n\n  goToClickedDate = clickedDate => {\n    this.setState({appViewMode: this.state.appViewMode === \"DayMode\" ? this.state.appViewMode : \"DayMode\"})\n    //day index when the month is different from the actual\n    const clickedDayMonth = new Date(clickedDate).getMonth();\n    const clickedWeekIndex = this.state.currentMonth.findIndex(week => week.includes(clickedDate));\n    if(clickedDayMonth !== this.state.monthGetter) {\n      let clickedDayIndex = this.state.currentMonth\n          .map(week => week.filter(day => new Date(day).getMonth() !== this.state.monthGetter))\n          .filter(week => week.includes(clickedDate))\n          .flat().indexOf(clickedDate);\n      if(clickedDayMonth > this.state.monthGetter) {\n        this.calendarNavigationHandler(\"increment\", clickedDayIndex, true)\n      }\n      if(clickedDayMonth < this.state.monthGetter) {\n        this.calendarNavigationHandler(\"decrement\", clickedDayIndex, true)\n      }\n    }\n    if((this.state.appViewMode === \"WeekMode\" && clickedDayMonth === this.state.monthGetter) ||\n        (this.state.appViewMode === 'DayMode' && clickedWeekIndex === this.state.currWeekIndex)) {\n      this.setState(({appViewMode, currentDayIndex, ...restTop}) => ({\n        currentDayIndex: this.state.currentWeek.indexOf(clickedDate),\n        ...restTop\n      }), () => this.dayModeLogicHandler())\n    }\n    if((this.state.appViewMode === \"CalendarMode\" || this.state.appViewMode === \"DayMode\") && clickedDayMonth === this.state.monthGetter) {\n        let clickedDayIndex = this.state.currentMonth\n            .map(week => week.filter(day => new Date(day).getMonth() === this.state.monthGetter))\n            .filter(week => week.includes(clickedDate))\n            .flat().indexOf(clickedDate);\n        if(clickedWeekIndex > this.state.currWeekIndex) {\n          for(let i = this.state.currWeekIndex; i < clickedWeekIndex; i++) {\n            this.weekAgendaNavigationHandler(\"increment\", clickedDayIndex);\n          }\n        }\n        if(clickedWeekIndex < this.state.currWeekIndex) {\n          for(let i = this.state.currWeekIndex; i > clickedWeekIndex; i--) {\n            this.weekAgendaNavigationHandler(\"decrement\", clickedDayIndex);\n          }\n        }\n    }\n  }\n\n  fullScreenHandler = fullScreen => {\n    this.setState({fullScreen});\n  };\n\n  render() {\n    let viewMode = \"\";\n    const weekMode = (\n        //the min width for weekMOde in curr setup is 700px wide\n        <WeekMode\n            appViewMode={this.state.appViewMode}\n            calendarViewType={this.props.calendarViewType}\n            arrayOfDailyHoursTable={this.state.arrayOfDailyHoursTable}\n            newDatesToVerboseHandler={this.newDatesToVerboseHandler}\n            displayDialogBoxHandler={this.displayDialogBoxHandler}\n            dialogBoxData={this.state.dialogBoxData}\n            agendaInitialAvailableHour={this.props.agendaInitialAvailableHour}\n            layoutWidthDimensions={this.state.layoutWidthDimensions}\n            agendaLastAvailableHour={this.props.agendaLastAvailableHour}\n            dataToBeRendered={this.props.dataToBeRendered}\n            currentWeek={this.state.currentWeek}\n            monthGetter={this.state.monthGetter}\n            goToClickedDate={this.goToClickedDate}/>\n    );\n    const calendarMode = (\n        //the min width for the calendar mode in curr setup is 590px wide\n        <CalendarMode\n            appViewMode={this.state.appViewMode}\n            calendarViewType={this.props.calendarViewType}\n            monthGetter={this.state.monthGetter}\n            currentMonth={this.state.currentMonth}\n            currentWeek={this.state.currentWeek}\n            newDatesToVerboseHandler={this.newDatesToVerboseHandler}\n            goToClickedDate={this.goToClickedDate}/>\n    );\n    const dayMode = (\n        //day mode width is just fine\n        <DayMode\n            fullScreen={this.state.fullScreen}\n            dialogBoxData={this.state.dialogBoxData}\n            appViewMode={this.state.appViewMode}\n            arrayOfDailyHoursTable={this.state.arrayOfDailyHoursTable}\n            newDatesToVerboseHandler={this.newDatesToVerboseHandler}\n            agendaInitialAvailableHour={this.props.agendaInitialAvailableHour}\n            agendaLastAvailableHour={this.props.agendaLastAvailableHour}\n            dataToBeRendered={this.props.dataToBeRendered}\n            currentMonth={this.state.currentMonth}\n            currentYear={this.state.yearGetter}\n            currentDay={this.state.currentDay}\n            monthGetter={this.state.monthGetter}\n            currentWeek={this.state.currentWeek}\n            appNavigationHandler={this.appNavigationHandler}\n            calendarViewType={this.props.calendarViewType}\n            takeMeToToday={this.takeMeToToday}\n            goToClickedDate={this.goToClickedDate}/>\n    );\n    switch (this.state.appViewMode) {\n      case('WeekMode') :\n        viewMode = weekMode;\n        break;\n      case('CalendarMode') :\n        viewMode = calendarMode;\n        break;\n      case(\"DayMode\") :\n        viewMode = dayMode;\n        break;\n      default:\n        viewMode = null;\n    }\n    return (\n        <FullScreen enabled={this.state.fullScreen}\n        onChange={fullScreen => this.setState({fullScreen})}>\n        <Layout\n            callbackFullScreen={this.fullScreenHandler}\n            calendarViewType={this.props.calendarViewType}\n            defaultMode={this.props.defaultMode}\n            takeMeToToday={this.takeMeToToday}\n            appViewMode={this.state.appViewMode}\n            weekMode={() => this.viewModeHandler(\"WeekMode\")}\n            monthMode={() => this.viewModeHandler(\"CalendarMode\")}\n            dayMode={() => this.viewModeHandler(\"DayMode\")}\n            callbackContainerDimensions={this.callbackContainerDimensions}\n            appNavigationHandler={this.appNavigationHandler}\n            newDatesToVerboseHandler={this.newDatesToVerboseHandler}\n            currentWeek={this.state.currentWeek}\n            monthGetter={this.state.monthGetter}\n            currentYear={this.state.yearGetter}\n            currentDay={this.state.currentDay}>\n          {viewMode}\n        </Layout>\n        </FullScreen>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}