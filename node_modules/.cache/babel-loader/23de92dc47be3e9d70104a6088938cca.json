{"ast":null,"code":"import _objectSpread from \"/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/src/Agenda/Agenda.js\";\nimport React from \"react\";\nimport Layout from \"./UI/Layout/Layout\";\nimport WeekMode from \"./UI/ViewMode/WeekMode/WeekMode\";\nimport CalendarMode from \"./UI/ViewMode/CalendarMode/CalendarMode\";\nexport default class Agenda extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      appViewMode: \"MonthMode\",\n      currentWeek: [],\n      currentMonth: [],\n      arrayOfDailyHoursTable: [],\n      backdropIsActive: false,\n      dialogBoxData: {\n        displayDialogBox: false,\n        topPositionFromClassCard: \"\",\n        heigthPositionFromClassCard: \"\"\n      },\n      layoutWidthDimensions: {\n        width: \"\"\n      }\n    };\n\n    this.arrayOfTableRows = (startingHour, endingHour) => {\n      let arrayOfDailyHoursTable = [startingHour];\n\n      for (let i = startingHour; i < endingHour; i++) {\n        arrayOfDailyHoursTable.push(Math.max.apply(null, arrayOfDailyHoursTable) + 1);\n      }\n\n      this.setState({\n        arrayOfDailyHoursTable\n      });\n    };\n\n    this.weekNavigationHandler = modal => {\n      const oneDay = 86400000;\n\n      if (modal === \"increment\") {\n        let currentWeek = [Math.max(...this.state.currentWeek) + oneDay];\n\n        for (let i = new Date(...currentWeek).getDay(); i < 6; i++) {\n          currentWeek.push(Math.max.apply(null, currentWeek) + oneDay);\n        }\n\n        this.setState({\n          currentWeek\n        });\n      }\n\n      if (modal === \"decrement\") {\n        let currentWeek = [Math.min(...this.state.currentWeek) - oneDay];\n\n        for (let i = new Date(...currentWeek).getDay(); i > 0; i--) {\n          currentWeek.unshift(Math.min.apply(null, currentWeek) - oneDay);\n        }\n\n        if (!this.state.currentWeek.includes(new Date().setHours(0, 0, 0, 0).valueOf())) {\n          this.setState({\n            currentWeek\n          });\n        }\n      }\n    };\n\n    this.newDatesToVerboseHandler = (date, verboseType) => {\n      let renderWeekDay = date.getDay();\n\n      switch (renderWeekDay) {\n        case 0:\n          renderWeekDay = \"Sunday\";\n          break;\n\n        case 1:\n          renderWeekDay = \"Monday\";\n          break;\n\n        case 2:\n          renderWeekDay = \"Tuesday\";\n          break;\n\n        case 3:\n          renderWeekDay = \"Wednesday\";\n          break;\n\n        case 4:\n          renderWeekDay = \"Thursday\";\n          break;\n\n        case 5:\n          renderWeekDay = \"Friday\";\n          break;\n\n        case 6:\n          renderWeekDay = \"Saturday\";\n          break;\n\n        default:\n          renderWeekDay = null;\n      }\n\n      let renderMonth = date.getMonth();\n\n      switch (renderMonth) {\n        case 0:\n          renderMonth = \"January\";\n          break;\n\n        case 1:\n          renderMonth = \"February\";\n          break;\n\n        case 2:\n          renderMonth = \"March\";\n          break;\n\n        case 3:\n          renderMonth = \"April\";\n          break;\n\n        case 4:\n          renderMonth = \"May\";\n          break;\n\n        case 5:\n          renderMonth = \"June\";\n          break;\n\n        case 6:\n          renderMonth = \"July\";\n          break;\n\n        case 7:\n          renderMonth = \"August\";\n          break;\n\n        case 8:\n          renderMonth = \"September\";\n          break;\n\n        case 9:\n          renderMonth = \"October\";\n          break;\n\n        case 10:\n          renderMonth = \"November\";\n          break;\n\n        case 12:\n          renderMonth = \"December\";\n          break;\n\n        default:\n          renderMonth = null;\n      }\n\n      if (verboseType === \"renderWeekDay\") {\n        return renderWeekDay;\n      }\n\n      if (verboseType === \"renderMonth\") {\n        return renderMonth;\n      }\n    };\n\n    this.displayDialogBoxHandler = (day, topPositionFromClassCard, heigthPositionFromClassCard) => {\n      let displayDialogBox;\n      let backdropIsActiv;\n\n      if (this.state.dialogBoxData.displayDialogBox !== day && this.state.backdropIsActive !== \"cover all\") {\n        displayDialogBox = day;\n        backdropIsActiv = \"cover all\";\n      }\n\n      if (this.state.dialogBoxData.displayDialogBox === day && this.state.backdropIsActive === \"cover all\") {\n        displayDialogBox = false;\n        backdropIsActiv = \"false\";\n      }\n\n      this.setState((_ref) => {\n        let dialogBoxData = _ref.dialogBoxData,\n            backdropIsActive = _ref.backdropIsActive,\n            restTop = _objectWithoutProperties(_ref, [\"dialogBoxData\", \"backdropIsActive\"]);\n\n        return _objectSpread({\n          dialogBoxData: {\n            displayDialogBox: displayDialogBox,\n            topPositionFromClassCard: topPositionFromClassCard,\n            heigthPositionFromClassCard: heigthPositionFromClassCard\n          },\n          backdropIsActive: backdropIsActiv\n        }, restTop);\n      });\n    };\n\n    this.callbackContainerDimensions = container => {\n      this.setState((_ref2) => {\n        let layoutWidthDimensions = _ref2.layoutWidthDimensions,\n            restTop = _objectWithoutProperties(_ref2, [\"layoutWidthDimensions\"]);\n\n        return _objectSpread({\n          layoutWidthDimensions: {\n            width: container.offsetWidth\n          }\n        }, restTop);\n      });\n    };\n  }\n\n  componentDidMount() {\n    //here I set oneDay to get one day in ms & today to use as ref for dates\n    const oneDay = 86400000;\n    const today = new Date(); //logic that fills the <Day> cards in the agenda\n\n    let currentWeek = [today.setHours(0, 0, 0, 0)];\n\n    for (let i = today.getDay(); i > 0; i--) {\n      currentWeek.unshift(Math.min.apply(null, currentWeek) - oneDay);\n    }\n\n    for (let i = today.getDay(); i < 6; i++) {\n      currentWeek.push(Math.max.apply(null, currentWeek) + oneDay);\n    }\n\n    this.setState({\n      currentWeek\n    }); //logic for month view\n\n    let currentMonth = [today.setHours(0, 0, 0, 0)];\n\n    for (let i = today.getDate(); i > 1; i--) {\n      currentMonth.unshift(Math.min.apply(null, currentMonth) - oneDay);\n    }\n\n    for (let i = today.getDate(); i < new Date(new Date().getFullYear(), new Date().getMonth() + 1, 0).getDate(); i++) {\n      currentMonth.push(Math.max.apply(null, currentMonth) + oneDay);\n    }\n\n    for (let i = new Date(Math.min(...currentMonth)).getDay(); i > 0; i--) {\n      currentMonth.unshift(Math.min.apply(null, currentMonth) - oneDay);\n    }\n\n    for (let i = new Date(Math.max(...currentMonth)).getDay(); i < 6; i++) {\n      currentMonth.push(Math.max.apply(null, currentMonth) + oneDay);\n    }\n\n    this.setState({\n      currentMonth\n    }); //I call this set state to spread the table of empty tabs for each existing hour\n\n    this.setState({\n      arrayOfHourTable: this.arrayOfTableRows(this.props.agendaInitialAvailableHour, this.props.agendaLastAvailableHour)\n    });\n  } //the function below spreads the table of existing hours for <EmptyTables/>\n\n\n  //by clicking inside a event day card activates the backdrop for that day so I can edit the events or ad new ones\n  backdropDisplayHandler(day) {\n    if (day) {\n      this.setState((_ref3) => {\n        let backdropIsActive = _ref3.backdropIsActive,\n            dialogBoxData = _ref3.dialogBoxData,\n            restTop = _objectWithoutProperties(_ref3, [\"backdropIsActive\", \"dialogBoxData\"]);\n\n        return _objectSpread({\n          backdropIsActive: day,\n          dialogBoxData: {\n            displayDialogBox: false\n          }\n        }, restTop);\n      });\n    }\n  } //logic to run the dialog box. This box will handle create class, edit class & view full class card\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(Layout, {\n      callbackContainerDimensions: this.callbackContainerDimensions,\n      weekNavigationHandler: this.weekNavigationHandler,\n      newDatesToVerboseHandler: this.newDatesToVerboseHandler,\n      currentWeek: this.state.currentWeek,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 7\n      }\n    }, this.state.appViewMode === 'WeekMode' ? /*#__PURE__*/React.createElement(WeekMode, {\n      arrayOfDailyHoursTable: this.state.arrayOfDailyHoursTable,\n      currentWeek: this.state.currentWeek,\n      backdropIsActive: this.state.backdropIsActive,\n      newDatesToVerboseHandler: this.newDatesToVerboseHandler,\n      displayDialogBoxHandler: this.displayDialogBoxHandler,\n      backdropDisplayHandler: data => this.backdropDisplayHandler(data),\n      dialogBoxData: this.state.dialogBoxData,\n      agendaInitialAvailableHour: this.props.agendaInitialAvailableHour,\n      layoutWidthDimensions: this.state.layoutWidthDimensions,\n      agendaLastAvailableHour: this.props.agendaLastAvailableHour,\n      dataToBeRendered: this.props.dataToBeRendered,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }\n    }) : null, this.state.appViewMode === \"CalendarMode\" ? /*#__PURE__*/React.createElement(CalendarMode, {\n      currentMonth: this.state.currentMonth,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/Dev/WebstormProjects/event-calendar/yoga-class-agenda-component/src/Agenda/Agenda.js"],"names":["React","Layout","WeekMode","CalendarMode","Agenda","Component","state","appViewMode","currentWeek","currentMonth","arrayOfDailyHoursTable","backdropIsActive","dialogBoxData","displayDialogBox","topPositionFromClassCard","heigthPositionFromClassCard","layoutWidthDimensions","width","arrayOfTableRows","startingHour","endingHour","i","push","Math","max","apply","setState","weekNavigationHandler","modal","oneDay","Date","getDay","min","unshift","includes","setHours","valueOf","newDatesToVerboseHandler","date","verboseType","renderWeekDay","renderMonth","getMonth","displayDialogBoxHandler","day","backdropIsActiv","restTop","callbackContainerDimensions","container","offsetWidth","componentDidMount","today","getDate","getFullYear","arrayOfHourTable","props","agendaInitialAvailableHour","agendaLastAvailableHour","backdropDisplayHandler","render","data","dataToBeRendered"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Layout from \"./UI/Layout/Layout\";\nimport WeekMode from \"./UI/ViewMode/WeekMode/WeekMode\";\nimport CalendarMode from \"./UI/ViewMode/CalendarMode/CalendarMode\";\n\nexport default class Agenda extends React.Component {\n  state = {\n    appViewMode: \"MonthMode\",\n    currentWeek: [],\n    currentMonth: [],\n    arrayOfDailyHoursTable: [],\n    backdropIsActive: false,\n\n    dialogBoxData: {\n      displayDialogBox: false,\n      topPositionFromClassCard: \"\",\n      heigthPositionFromClassCard: \"\"\n    },\n    layoutWidthDimensions: {\n      width: \"\"\n    }\n  };\n\n  componentDidMount() {\n    //here I set oneDay to get one day in ms & today to use as ref for dates\n    const oneDay = 86400000;\n    const today = new Date();\n\n    //logic that fills the <Day> cards in the agenda\n    let currentWeek = [today.setHours(0, 0, 0, 0)];\n    for (let i = today.getDay(); i > 0; i--) {\n      currentWeek.unshift(Math.min.apply(null, currentWeek) - oneDay);\n    }\n    for (let i = today.getDay(); i < 6; i++) {\n      currentWeek.push(Math.max.apply(null, currentWeek) + oneDay);\n    }\n    this.setState({ currentWeek });\n\n    //logic for month view\n    let currentMonth = [today.setHours(0,0,0,0)];\n    for(let i = today.getDate(); i > 1; i--){\n      currentMonth.unshift(Math.min.apply(null,currentMonth) - oneDay)\n    }\n    for (let i = today.getDate(); i < new Date(new Date().getFullYear(),new Date().getMonth() + 1, 0).getDate(); i++ ){\n      currentMonth.push(Math.max.apply(null,currentMonth) + oneDay)\n    }\n    for(let i = new Date(Math.min(...currentMonth)).getDay(); i > 0; i-- ) {\n      currentMonth.unshift(Math.min.apply(null, currentMonth) - oneDay)\n    }\n    for(let i = new Date(Math.max(...currentMonth)).getDay(); i < 6; i++ ) {\n      currentMonth.push(Math.max.apply(null, currentMonth) + oneDay)\n    }\n    this.setState({currentMonth});\n\n    //I call this set state to spread the table of empty tabs for each existing hour\n    this.setState({\n      arrayOfHourTable: this.arrayOfTableRows(\n        this.props.agendaInitialAvailableHour,\n        this.props.agendaLastAvailableHour\n      )\n    });\n  }\n\n\n\n  //the function below spreads the table of existing hours for <EmptyTables/>\n  arrayOfTableRows = (startingHour, endingHour) => {\n    let arrayOfDailyHoursTable = [startingHour];\n    for (let i = startingHour; i < endingHour; i++) {\n      arrayOfDailyHoursTable.push(\n        Math.max.apply(null, arrayOfDailyHoursTable) + 1\n      );\n    }\n    this.setState({ arrayOfDailyHoursTable });\n  };\n\n  //this functions navigates in between weeks\n  weekNavigationHandler = modal => {\n    const oneDay = 86400000;\n      if (modal === \"increment\") {\n        let currentWeek = [Math.max(...this.state.currentWeek) + oneDay];\n        for (let i = new Date(...currentWeek).getDay(); i < 6; i++) {\n          currentWeek.push(Math.max.apply(null, currentWeek) + oneDay);\n        }\n        this.setState({currentWeek});\n      }\n\n      if (modal === \"decrement\") {\n        let currentWeek = [Math.min(...this.state.currentWeek) - oneDay];\n        for (let i = new Date(...currentWeek).getDay(); i > 0; i--) {\n          currentWeek.unshift(Math.min.apply(null, currentWeek) - oneDay);\n        }\n        if (\n            !this.state.currentWeek.includes(\n                new Date().setHours(0, 0, 0, 0).valueOf()\n            )\n        ) {\n          this.setState({currentWeek});\n        }\n      }\n  };\n\n  //this function does the verbose work for my days to appear nicely\n  newDatesToVerboseHandler = (date, verboseType) => {\n    let renderWeekDay = date.getDay();\n    switch (renderWeekDay) {\n      case 0:\n        renderWeekDay = \"Sunday\";\n        break;\n\n      case 1:\n        renderWeekDay = \"Monday\";\n        break;\n\n      case 2:\n        renderWeekDay = \"Tuesday\";\n        break;\n\n      case 3:\n        renderWeekDay = \"Wednesday\";\n        break;\n\n      case 4:\n        renderWeekDay = \"Thursday\";\n        break;\n\n      case 5:\n        renderWeekDay = \"Friday\";\n        break;\n\n      case 6:\n        renderWeekDay = \"Saturday\";\n        break;\n      default:\n        renderWeekDay = null;\n    }\n\n    let renderMonth = date.getMonth();\n\n    switch (renderMonth) {\n      case 0:\n        renderMonth = \"January\";\n        break;\n\n      case 1:\n        renderMonth = \"February\";\n        break;\n\n      case 2:\n        renderMonth = \"March\";\n        break;\n\n      case 3:\n        renderMonth = \"April\";\n        break;\n\n      case 4:\n        renderMonth = \"May\";\n        break;\n\n      case 5:\n        renderMonth = \"June\";\n        break;\n\n      case 6:\n        renderMonth = \"July\";\n        break;\n\n      case 7:\n        renderMonth = \"August\";\n        break;\n\n      case 8:\n        renderMonth = \"September\";\n        break;\n\n      case 9:\n        renderMonth = \"October\";\n        break;\n\n      case 10:\n        renderMonth = \"November\";\n        break;\n\n      case 12:\n        renderMonth = \"December\";\n        break;\n      default:\n        renderMonth = null;\n    }\n\n    if (verboseType === \"renderWeekDay\") {\n      return renderWeekDay;\n    }\n    if (verboseType === \"renderMonth\") {\n      return renderMonth;\n    }\n  };\n  //by clicking inside a event day card activates the backdrop for that day so I can edit the events or ad new ones\n  backdropDisplayHandler(day) {\n    if (day) {\n      this.setState(({ backdropIsActive, dialogBoxData, ...restTop }) => ({\n        backdropIsActive: day,\n        dialogBoxData: {\n          displayDialogBox: false\n        },\n        ...restTop\n      }));\n    }\n  }\n  //logic to run the dialog box. This box will handle create class, edit class & view full class card\n  displayDialogBoxHandler = (\n    day,\n    topPositionFromClassCard,\n    heigthPositionFromClassCard\n  ) => {\n    let displayDialogBox;\n    let backdropIsActiv;\n\n    if (this.state.dialogBoxData.displayDialogBox !== day && this.state.backdropIsActive !== \"cover all\") {\n      displayDialogBox = day;\n      backdropIsActiv = \"cover all\";\n    }\n    if (this.state.dialogBoxData.displayDialogBox === day && this.state.backdropIsActive === \"cover all\") {\n      displayDialogBox = false;\n      backdropIsActiv = \"false\";\n    }\n    this.setState(({ dialogBoxData, backdropIsActive, ...restTop }) => ({\n      dialogBoxData: {\n        displayDialogBox: displayDialogBox,\n        topPositionFromClassCard: topPositionFromClassCard,\n        heigthPositionFromClassCard: heigthPositionFromClassCard\n      },\n      backdropIsActive: backdropIsActiv,\n      ...restTop\n    }));\n  };\n\n  callbackContainerDimensions = container => {\n    this.setState(({ layoutWidthDimensions, ...restTop }) => ({\n      layoutWidthDimensions: {\n        width: container.offsetWidth\n      },\n      ...restTop\n    }));\n  };\n\n  render() {\n    return (\n      <Layout\n        callbackContainerDimensions={this.callbackContainerDimensions}\n        weekNavigationHandler={this.weekNavigationHandler}\n        newDatesToVerboseHandler={this.newDatesToVerboseHandler}\n        currentWeek={this.state.currentWeek}\n      >\n        {this.state.appViewMode === 'WeekMode'?\n          <WeekMode\n              arrayOfDailyHoursTable={this.state.arrayOfDailyHoursTable}\n              currentWeek={this.state.currentWeek}\n              backdropIsActive={this.state.backdropIsActive}\n              newDatesToVerboseHandler={this.newDatesToVerboseHandler}\n              displayDialogBoxHandler={this.displayDialogBoxHandler}\n              backdropDisplayHandler={(data) => this.backdropDisplayHandler(data)}\n              dialogBoxData={this.state.dialogBoxData}\n              agendaInitialAvailableHour={this.props.agendaInitialAvailableHour}\n              layoutWidthDimensions={this.state.layoutWidthDimensions}\n              agendaLastAvailableHour={this.props.agendaLastAvailableHour}\n              dataToBeRendered={this.props.dataToBeRendered}\n          /> : null}\n        {this.state.appViewMode === \"CalendarMode\" ?\n        <CalendarMode\n        currentMonth={this.state.currentMonth}/> : null}\n      </Layout>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}